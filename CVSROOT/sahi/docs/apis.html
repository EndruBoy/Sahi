<html>
<head>
    <title>Sahi - APIs</title>
	<link rel="stylesheet" type="text/css" href="sahi.css"/>
</head>
<body>

<table width="100%" border="0"><tr><td>
<h2>Sahi - APIs</h2>
</td>
<td align="right">
<a href="http://sourceforge.net"><img src="http://sourceforge.net/sflogo.php?group_id=151639&amp;type=3" width="125" height="37" border="0" alt="SourceForge.net Logo" /></a>
<br/>
<a href="index.html">Sahi</a>&nbsp;&nbsp;
</td>
</tr></table>

<br/>
The best way to learn how these APIs work is by recording actions using the Sahi controller and looking at the recorded code.
<br/><br/>
<a href="#aform">Accessor methods : Form elements</a><br/>
<a href="#alink">Accessor methods : Link</a><br/>
<a href="#atable">Accessor methods : Tables</a><br/>
<a href="#ageneric">Accessor methods : Generic</a><br/>
<a href="#action">Action methods</a><br/>
<a href="#assertion">Assertion methods</a><br/>
<a href="#textaccess">Text Access methods</a><br/>
<a href="#textverify">Text Verification boolean methods</a><br/>
<a href="#include">File Inclusion</a><br/>
<a href="#utility">Utility Methods</a><br/>


(<a href="#top">Top</a>)
<br>
<h4><a name="aform"></a>Accessor methods : Form elements</h4>
_textbox(idStr)<br/>
_password(idStr)<br/>
_checkbox(idStr)<br/>
_textarea(idStr)<br/>
_select(idStr)<br/>
_radio(idStr)<br/>
_image(idStr)<br/>
_button(idStr)<br/>
_submit(idStr)<br/>

(<a href="#top">Top</a>)
<br>
<h4><a name="alink"></a>Accessor methods : Link</h4>
_link(idStr)<br/>

(<a href="#top">Top</a>)
<br>
<h4><a name="atable"></a>Accessor methods : Tables</h4>
_table(idStr)<br/>
_cell(tableEl, rowNo, colNo)<br/>
_cell(cellIdStr)<br/>

(<a href="#top">Top</a>)
<br>
<h4><a name="ageneric"></a>Accessor methods : Generic</h4>
_accessor(idStr)<br/>



(<a href="#top">Top</a>)
<br>
<h4><a name="action"></a>Action methods</h4>
_click(jsElement)<br/>
_clickImage(jsElement)<br/>

_setValue(jsElement, val)<br/>
_setSelected(jsElement, val)<br/>
_check(jsElement, val)<br/>

_simulateEvent(jsElement, ev)<br/>
_wait(millis)<br/>
_alert(str)<br/>



(<a href="#top">Top</a>)
<br>
<h4><a name="assertion"></a>Assertion methods</h4>
_assertNotNull(jsElement, msg)<br/>
_assertNull(jsElement, msg)<br/>
_assertEqual(expected, actual, msg)<br/>
_assertNotEqual(expected, actual, msg)<br/>
_assertTrue(condition, msg)<br/>
_assertNotTrue(condition, msg)<br/>



(<a href="#top">Top</a>)
<br>
<h4><a name="textaccess"></a>Text Access methods</h4>
_getSelectedText(selectElement) <br/>
_getCellText(tableCellElement)<br/>



(<a href="#top">Top</a>)
<br>
<h4><a name="textverify"></a>Text Verification boolean methods</h4>
_containsText(element, textToSearch)<br/>
_containsHTML(element, htmlToSearch)<br/>



(<a href="#top">Top</a>)
<br>
<h4><a name="include"></a>File Inclusion</h4>
_include(filePath)<br/>
<br/>
<div class="explain">
<b>_include(filePath)</b>
<br/><br/>
One sah file may include other sah files, thus allowing logical separation of code.<br/>
Syntax: _include(file2.sah)
</div>

<div class="explain">
Example:<br/>
<b>File create_customer.sah</b><br/>
<div class="subExplain">
include("create_customer_functions.sah");<br/>
createCustomer("Narayan", 1001, 27);<br/>
</div>
<br/>
<br/>
<b>File create_customer_functions.sah</b><br/>
<div class="subExplain">
function createCustomer($name, $id, $age){<br/>
	_setValue(_textbox("name"), $name);<br/>
	_setValue(_textbox("id"), $id);<br/>
	_setValue(_textbox("age"), $age);<br/>
}<br/>
</div>
</p>
</div>


(<a href="#top">Top</a>)
<br>
<h4><a name="utility"></a>Utility Methods</h4>
<a href="#random">_savedRandom(id, minNo, maxNo)<br/>
<a href="#global">_setGlobal(name, value)</a><br/>
<a href="#global">_getGlobal(name)</a><br/>
<br/>

<p class="explain">
<b><a name="random">_savedRandom(id, min, max)</a></b>
<br/>
<br/>
If a script was recorded for say, creating a user, and if the user name is mandated to be unique in the application, <br/>
we need to add random numbers to the user name so that it remains unique.<br/>
<br/>

One can obtain a random number by using _savedRandom(id, min, max).<br/>
During the first call to it, it creates a random number between min and max, associates with the id and returns the number. <br/>
On subsequent accesses with that id, it returns the same random number which it had created in the first access.<br/>
<br/>

Example:<br/>

<span class="code">var $x = _savedRandom("login", 100, 200);</span> sets $x to say 145 (a random number between 100, 200). Defaults for min and max, if omitted, are 0 and 10000<br/>

<span class="code">$y = _savedRandom("login", 100, 200);</span> will set $y to 145 again.<br/>

<span class="code">$y = _savedRandom("login");</span> will also set $y to 145.<br/>
 The min and max are needed only during the first call.<br/>
</p>
<br/>

<p class="explain">
<b><a name="global">_setGlobal(name, value) and _getGloblal(name)</a></b>
<br/>
<br/>
Since a script may span across multiple web pages, variables from one page may need to be stored for later use.<br/>
For example, an id which is generated on customer creation may need to stored for later look up of the customer, on a different page.<br/>
This can be accomplished by _setGlobal(name, value) and _getGloblal(name).<br/>
<br/>
Example:<br/>
<span class="code">_setGlobal("customerId", _getCellText(_cell("custId")));</span> // sets the text in table cell with id "custId" into a global variable keyed by "customerId"<br/>
Then on a later page, one can retrieve the customerId through<br/>
&nbsp;<span class="code">_setValue(_textbox("lookup"), _getGlobal("customerId"));</span> // the second parameter retrieves the text stored.<br/>
These variables are stored on the server in a hashmap associated with the session.<br/>
<br/>
Note that all values will be stored as strings only.
<br/>
</p>
<br/>



<!--Developer: V Narayan Raman-->
</body>
</html>